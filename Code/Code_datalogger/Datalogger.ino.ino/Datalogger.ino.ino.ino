/*
 * This Arduino Nano ESP32 code was developed by newbiely.com
 *
 * This Arduino Nano ESP32 code is made available for public use without any restriction
 *
 * For comprehensive instructions and wiring diagrams, please visit:
 * https://newbiely.com/tutorials/arduino-nano-esp32/arduino-nano-esp32-oled
 */

#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>

#define OLED_WIDTH 128 // OLED width,  in pixels
#define OLED_HEIGHT 64 // OLED height, in pixels

// create an OLED display object connected to I2C
Adafruit_SSD1306 oled(OLED_WIDTH, OLED_HEIGHT, &Wire, -1);

// bitmap of arduino-icon image
const unsigned char arduino_icon [] PROGMEM = {
  // 'arduino-icon', 128x64px
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x0c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x0c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x0e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x0e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x3c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x78, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0xf8, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x01, 0xf0, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x01, 0xe0, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x03, 0xc1, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x03, 0xc3, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x03, 0x87, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x03, 0x87, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x03, 0x8f, 0x0c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x19, 0x9e, 0x0f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x7d, 0x9c, 0x1f, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0xf8, 0x00, 0xff, 0x98, 0x1f, 0xe0, 0x78, 0x00, 0x0e, 0x00, 0xff, 0xf0, 0x07, 0x80, 0x07, 0xfe, 
0xff, 0x81, 0xff, 0x98, 0x3f, 0xe0, 0x78, 0x00, 0x0e, 0x00, 0xff, 0xf0, 0x07, 0x80, 0x0f, 0xfe, 
0xff, 0xe1, 0xff, 0xf0, 0x7f, 0xe0, 0x78, 0x00, 0x0e, 0x00, 0xff, 0xf0, 0x07, 0x80, 0x0f, 0xfe, 
0xf3, 0xe1, 0xff, 0xf1, 0xff, 0xc0, 0x78, 0x00, 0x0e, 0x00, 0x1f, 0x80, 0x07, 0x80, 0x0f, 0x80, 
0xf0, 0xf1, 0xff, 0xf3, 0xff, 0x80, 0x78, 0x00, 0x0e, 0x00, 0x0f, 0x00, 0x07, 0x80, 0x0f, 0x80, 
0xf0, 0xf1, 0xff, 0xf3, 0xff, 0x20, 0x78, 0x00, 0x0e, 0x00, 0x0f, 0x00, 0x07, 0x80, 0x0f, 0x80, 
0xf0, 0xf0, 0xff, 0xe1, 0xfc, 0x60, 0x78, 0x00, 0x0e, 0x00, 0x0f, 0x00, 0x07, 0x80, 0x0f, 0x80, 
0xf0, 0xf0, 0x7f, 0xe0, 0xf8, 0xc0, 0x78, 0x00, 0x0e, 0x00, 0x0f, 0x00, 0x07, 0x80, 0x0f, 0xfe, 
0xf0, 0xf0, 0x3f, 0xe1, 0xf1, 0x00, 0x78, 0x00, 0x0e, 0x00, 0x0f, 0x00, 0x07, 0x80, 0x0f, 0xfe, 
0xf1, 0xf0, 0x0f, 0xf1, 0xe2, 0x00, 0x78, 0x00, 0x0e, 0x00, 0x0f, 0x00, 0x07, 0x80, 0x0f, 0xfe, 
0xff, 0xe0, 0x07, 0xff, 0xcc, 0x00, 0x78, 0x00, 0x0e, 0x00, 0x0f, 0x00, 0x07, 0x80, 0x0f, 0x80, 
0xff, 0xc0, 0x03, 0xff, 0x18, 0x00, 0x78, 0x00, 0x0e, 0x00, 0x0f, 0x00, 0x07, 0x80, 0x0f, 0x80, 
0xff, 0x80, 0x01, 0xfe, 0x38, 0x00, 0x78, 0x00, 0x0e, 0x00, 0x0f, 0x00, 0x07, 0x80, 0x0f, 0x80, 
0xf0, 0x00, 0x00, 0xfc, 0x7c, 0x00, 0x78, 0x00, 0x0e, 0x00, 0x0f, 0x00, 0x07, 0x80, 0x0f, 0x80, 
0xf0, 0x00, 0x06, 0x38, 0xfc, 0x00, 0x7f, 0xf0, 0x0e, 0x00, 0x0f, 0x00, 0x07, 0x80, 0x0f, 0xfe, 
0xf0, 0x00, 0x0f, 0x1b, 0x3c, 0x00, 0x7f, 0xf0, 0x0e, 0x00, 0x0f, 0x00, 0x07, 0x80, 0x0f, 0xfe, 
0xf0, 0x00, 0x0f, 0x8e, 0x3e, 0x00, 0x7f, 0xf0, 0x0e, 0x00, 0x0f, 0x00, 0x07, 0x80, 0x0f, 0xfe, 
0x00, 0x00, 0x0f, 0x00, 0x1e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x0f, 0x80, 0x3e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x0f, 0x80, 0x3c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x07, 0x80, 0x7c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x07, 0xe0, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x03, 0xfb, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x01, 0xff, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0xff, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x7f, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

void setup() {
  Serial.begin(9600);

  // initialize OLED display with I2C address 0x3C
  if (!oled.begin(SSD1306_SWITCHCAPVCC, 0x3C)) {
    Serial.println(F("failed to start SSD1306 OLED"));
    while (1);
  }

  delay(2000); // wait two seconds for initializing
  oled.setCursor(0, 0);
}

void loop() {
      for (int x = 128; x > -80; x--) {  // Tekst beweegt van rechts naar links
  oled.clearDisplay();

  // display bitmap
  oled.drawBitmap(0, 0, arduino_icon, 128, 64, WHITE);

  // Tekst eronder zetten (onder de bitmap)
  oled.setTextSize(1);         // Kleinere tekst
  oled.setTextColor(WHITE);    // Witte tekstkleur
  oled.setCursor(x, 45);       // Cursor onder de bitmap zetten
  oled.println("Traffic datalogger"); // Eerste regel tekst

  oled.setCursor(x, 55);       // Cursor nog een regel lager zetten
  oled.println("M. van Riel TDO OOB");       // Tweede regel tekst

  oled.display();              // Alles weergeven op OLED
  delay(50);
}
}
